package me.kansio.client.modules.impl.exploit;

import dorkbox.messageBus.annotations.Subscribe;
import me.kansio.client.event.impl.UpdateEvent;
import me.kansio.client.modules.api.ModuleCategory;
import me.kansio.client.modules.impl.Module;
import me.kansio.client.property.value.NumberValue;
import net.minecraft.network.play.client.C03PacketPlayer;

public class Regen extends Module {

    private NumberValue<Double> health = new NumberValue<>("Health", this, 15.0, 1.0, 20.0, 1.0);
    private NumberValue<Double> packets = new NumberValue<>("Packets", this, 15.0, 1.0, 200.0, 1.0);

    public Regen() {
        super("Regen", ModuleCategory.EXPLOIT);
        register(health, packets);
    }

    @Subscribe
    public void onUpdate(UpdateEvent event) {

        if (mc.thePlayer.getHealth() >= health.getValue()) return;
        if (!mc.thePlayer.onGround) return;

        for (int i = 0; i < packets.getValue(); i++) {
            mc.thePlayer.sendQueue.addToSendQueue(new C03PacketPlayer(true));
        }
    }

}
